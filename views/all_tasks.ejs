<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f0f0f0;
        }
        .table {
            border-collapse: collapse;
            width: 100%;
            background-color: #fff;
        }
        .tdark {
            background-color: #004c97;
            color: #ffffff;
        }
        th, td {
            padding: 8px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        th {
            height: 50px;
        }
        tr:hover {
            background-color: #f5f5f5;
        }
        a {
            cursor: pointer;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 5px;
            padding: 10px 15px;
            margin-right: 5px;
        }
        b {cursor: pointer;

            background-color: #dc3545;
            color: white;
            border: none;
            border-radius: 5px;
            padding: 10px 15px;
            margin-right: 5px;
        }
        .update-btn button:hover, .delete-btn button:hover {
            opacity: 0.7;
        }
    </style>
      <script type="text/javascript">  
        if(performance.navigation.type == 2){
           location.reload(true);
        }
      </script>
</head>
<body>
    
    <h1>ALL OPEN TASKS</h1>
    <form action="/update_task" method="post">
        <table class="table">
            <thead class="tdark">   
                <tr>
                <th>Task Number</th>
                <th>Name</th>
                <th>E-mail</th>
                <th>Task type</th>
                <th>Asset Number</th>
                <th>Model</th>
                <th>Engineer</th>
                <th>Status</th>
                <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                <% for(var i = 0; i < tasks.length; i++){ %>
                <tr>
                <td><%= tasks[i].number %></td>
                <td><%= tasks[i].name %></td>
                <td><%= tasks[i].email %></td>
                <td><%= tasks[i].type %></td>
                <td><%= tasks[i].pcnumber %></td>
                <td><%= tasks[i].model %></td>
                <td><%= tasks[i].owner %></td>
                <td><%= tasks[i].status %></td>
                <td>
                    <a href="/update_task?id=<%= tasks[i]._id %>" class="update-btn" type="button">Update</a>
                    <b class="delete-btn" data-id="<%= tasks[i]._id %>">Delete</b>
                </td>
                </tr>
                <% } %>
            </tbody>
        </table>
    </form>
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="/public/js/index.js"></script> -->
</body>
</html>
